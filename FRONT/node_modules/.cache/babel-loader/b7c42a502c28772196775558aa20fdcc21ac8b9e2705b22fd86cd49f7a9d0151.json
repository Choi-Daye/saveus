{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ChatBot',\n  props: ['selectedPayment'],\n  // selectedPayment를 props로 받기\n  data() {\n    return {\n      messages: [],\n      userInput: ''\n    };\n  },\n  watch: {\n    selectedPayment(newPayment) {\n      console.log(\"Selected payment in ChatBot:\", newPayment); // 콘솔에 출력\n    }\n  },\n  methods: {\n    sendMessage() {\n      if (this.userInput.trim() !== '') {\n        this.messages.push({\n          sender: 'user',\n          text: this.userInput\n        });\n        const userMessage = this.userInput;\n        this.userInput = '';\n        this.getBotResponse(userMessage);\n      }\n    },\n    async getBotResponse(message) {\n      let botResponse = '';\n      const payment = this.selectedPayment;\n      console.log(\"Selected payment in ChatBot:\", payment); // 콘솔에 출력\n      if (payment && message.toLowerCase().includes('경로')) {\n        console.log(\"Message includes '경로'. Fetching cost...\"); // 추가\n        const {\n          minValue,\n          maxValue\n        } = await this.calculateCost(payment);\n        console.log(`Calculated cost: min=${minValue}, max=${maxValue}`); // 추가\n        botResponse = `현재 선택한 경로의 값은 ${payment}이며, 해당 경로로 한 달 동안 이용한다고 했을 때, 최소 ${minValue}, 최대 ${maxValue} 값을 지불하게 됩니다.`;\n      } else if (message.toLowerCase().includes('안녕하세요')) {\n        botResponse = '안녕하세요! 무엇을 도와드릴까요?';\n      } else if (message.toLowerCase().includes('도움')) {\n        botResponse = '물론이죠, 무엇을 도와드릴까요?';\n      } else {\n        botResponse = '이것은 봇의 응답입니다.';\n      }\n      this.messages.push({\n        sender: 'bot',\n        text: botResponse\n      });\n      this.scrollToEnd();\n    },\n    scrollToEnd() {\n      const chatWindow = this.$el.querySelector('.chat-window');\n      if (chatWindow) {\n        chatWindow.scrollTop = chatWindow.scrollHeight;\n      }\n    },\n    async calculateCost(payment) {\n      try {\n        const response = await fetch(`/calculate/calculate-cost/?payment=${payment}`);\n        const data = await response.json();\n        console.log('Response data:', data); // 응답 데이터 콘솔에 출력\n        return data;\n      } catch (error) {\n        console.error('Error calculating cost:', error);\n        return {\n          minValue: 0,\n          maxValue: 0\n        };\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","data","messages","userInput","watch","selectedPayment","newPayment","console","log","methods","sendMessage","trim","push","sender","text","userMessage","getBotResponse","message","botResponse","payment","toLowerCase","includes","minValue","maxValue","calculateCost","scrollToEnd","chatWindow","$el","querySelector","scrollTop","scrollHeight","response","fetch","json","error"],"sources":["/Users/parkjiyoung/Desktop/computer/smart_injae/hackshim_project/saveus_proto/saveus/frontend/src/views/ChatBot.vue"],"sourcesContent":["<template>\n    <div class=\"chatbot\">\n        <div class=\"chat-window\">\n            <!-- 채팅 메시지가 여기에 나타납니다 -->\n            <div v-for=\"(message, index) in messages\" :key=\"index\" class=\"chat-message\">\n                <div :class=\"['message', message.sender]\">{{ message.text }}</div>\n            </div>\n        </div>\n        <div class=\"message-input\">\n            <input v-model=\"userInput\" @keyup.enter=\"sendMessage\" placeholder=\"질문을 입력하세요\" />\n            <button @click=\"sendMessage\">전송</button>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'ChatBot',\n    props: ['selectedPayment'], // selectedPayment를 props로 받기\n    data() {\n        return {\n            messages: [],\n            userInput: ''\n        };\n    },\n    watch: {\n        selectedPayment(newPayment) {\n            console.log(\"Selected payment in ChatBot:\", newPayment); // 콘솔에 출력\n        }\n    },\n    methods: {\n        sendMessage() {\n            if (this.userInput.trim() !== '') {\n                this.messages.push({ sender: 'user', text: this.userInput });\n                const userMessage = this.userInput;\n                this.userInput = '';\n                this.getBotResponse(userMessage);\n            }\n        },\n        async getBotResponse(message) {\n            let botResponse = '';\n            const payment = this.selectedPayment;\n            console.log(\"Selected payment in ChatBot:\", payment); // 콘솔에 출력\n            if (payment && message.toLowerCase().includes('경로')) {\n                console.log(\"Message includes '경로'. Fetching cost...\"); // 추가\n                const { minValue, maxValue } = await this.calculateCost(payment);\n                console.log(`Calculated cost: min=${minValue}, max=${maxValue}`); // 추가\n                botResponse = `현재 선택한 경로의 값은 ${payment}이며, 해당 경로로 한 달 동안 이용한다고 했을 때, 최소 ${minValue}, 최대 ${maxValue} 값을 지불하게 됩니다.`;\n            } else if (message.toLowerCase().includes('안녕하세요')) {\n                botResponse = '안녕하세요! 무엇을 도와드릴까요?';\n            } else if (message.toLowerCase().includes('도움')) {\n                botResponse = '물론이죠, 무엇을 도와드릴까요?';\n            } else {\n                botResponse = '이것은 봇의 응답입니다.';\n            }\n            this.messages.push({ sender: 'bot', text: botResponse });\n            this.scrollToEnd();\n        },\n        scrollToEnd() {\n            const chatWindow = this.$el.querySelector('.chat-window');\n            if (chatWindow) {\n                chatWindow.scrollTop = chatWindow.scrollHeight;\n            }\n        },\n        async calculateCost(payment) {\n            try {\n                const response = await fetch(`/calculate/calculate-cost/?payment=${payment}`);\n                const data = await response.json();\n                console.log('Response data:', data); // 응답 데이터 콘솔에 출력\n                return data;\n            } catch (error) {\n                console.error('Error calculating cost:', error);\n                return { minValue: 0, maxValue: 0 };\n            }\n        }\n    }\n};\n</script>\n\n<style scoped src=\"../assets/css/ChatBot.css\"></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}