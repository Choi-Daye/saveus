{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default class WebSocketClient {\n  constructor(url) {\n    this.url = url;\n    this.socket = null;\n    this.isConnected = false;\n    this.messageQueue = [];\n  }\n  connect() {\n    this.socket = new WebSocket(this.url);\n    this.socket.onopen = () => {\n      console.log('WebSocket connection established');\n      this.isConnected = true;\n      // 연결 후 메시지 큐에 있는 메시지를 전송\n      while (this.messageQueue.length > 0) {\n        this.socket.send(JSON.stringify(this.messageQueue.shift()));\n      }\n    };\n    this.socket.onclose = () => {\n      console.log('WebSocket connection closed');\n      this.isConnected = false;\n    };\n    this.socket.onerror = error => {\n      console.error('WebSocket error:', error);\n    };\n  }\n  send(data) {\n    if (this.isConnected) {\n      this.socket.send(JSON.stringify(data));\n    } else {\n      console.warn('WebSocket is not open. Queuing message.');\n      this.messageQueue.push(data);\n    }\n  }\n  onMessage(callback) {\n    if (this.socket) {\n      this.socket.onmessage = event => {\n        const data = JSON.parse(event.data);\n        callback(data);\n      };\n    } else {\n      console.error('WebSocket is not initialized.');\n    }\n  }\n}","map":{"version":3,"names":["WebSocketClient","constructor","url","socket","isConnected","messageQueue","connect","WebSocket","onopen","console","log","length","send","JSON","stringify","shift","onclose","onerror","error","data","warn","push","onMessage","callback","onmessage","event","parse"],"sources":["/Users/parkjiyoung/Desktop/computer/smart_injae/hackshim_project/saveus_proto/saveus/frontend/src/utils/WebSocketClient.js"],"sourcesContent":["export default class WebSocketClient {\n    constructor(url) {\n        this.url = url;\n        this.socket = null;\n        this.isConnected = false;\n        this.messageQueue = [];\n    }\n\n    connect() {\n        this.socket = new WebSocket(this.url);\n        this.socket.onopen = () => {\n            console.log('WebSocket connection established');\n            this.isConnected = true;\n            // 연결 후 메시지 큐에 있는 메시지를 전송\n            while (this.messageQueue.length > 0) {\n                this.socket.send(JSON.stringify(this.messageQueue.shift()));\n            }\n        };\n        this.socket.onclose = () => {\n            console.log('WebSocket connection closed');\n            this.isConnected = false;\n        };\n        this.socket.onerror = (error) => {\n            console.error('WebSocket error:', error);\n        };\n    }\n\n    send(data) {\n        if (this.isConnected) {\n            this.socket.send(JSON.stringify(data));\n        } else {\n            console.warn('WebSocket is not open. Queuing message.');\n            this.messageQueue.push(data);\n        }\n    }\n\n    onMessage(callback) {\n        if (this.socket) {\n            this.socket.onmessage = (event) => {\n                const data = JSON.parse(event.data);\n                callback(data);\n            };\n        } else {\n            console.error('WebSocket is not initialized.');\n        }\n    }\n}\n"],"mappings":";AAAA,eAAe,MAAMA,eAAe,CAAC;EACjCC,WAAWA,CAACC,GAAG,EAAE;IACb,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,YAAY,GAAG,EAAE;EAC1B;EAEAC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACH,MAAM,GAAG,IAAII,SAAS,CAAC,IAAI,CAACL,GAAG,CAAC;IACrC,IAAI,CAACC,MAAM,CAACK,MAAM,GAAG,MAAM;MACvBC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/C,IAAI,CAACN,WAAW,GAAG,IAAI;MACvB;MACA,OAAO,IAAI,CAACC,YAAY,CAACM,MAAM,GAAG,CAAC,EAAE;QACjC,IAAI,CAACR,MAAM,CAACS,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACT,YAAY,CAACU,KAAK,CAAC,CAAC,CAAC,CAAC;MAC/D;IACJ,CAAC;IACD,IAAI,CAACZ,MAAM,CAACa,OAAO,GAAG,MAAM;MACxBP,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC1C,IAAI,CAACN,WAAW,GAAG,KAAK;IAC5B,CAAC;IACD,IAAI,CAACD,MAAM,CAACc,OAAO,GAAIC,KAAK,IAAK;MAC7BT,OAAO,CAACS,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC5C,CAAC;EACL;EAEAN,IAAIA,CAACO,IAAI,EAAE;IACP,IAAI,IAAI,CAACf,WAAW,EAAE;MAClB,IAAI,CAACD,MAAM,CAACS,IAAI,CAACC,IAAI,CAACC,SAAS,CAACK,IAAI,CAAC,CAAC;IAC1C,CAAC,MAAM;MACHV,OAAO,CAACW,IAAI,CAAC,yCAAyC,CAAC;MACvD,IAAI,CAACf,YAAY,CAACgB,IAAI,CAACF,IAAI,CAAC;IAChC;EACJ;EAEAG,SAASA,CAACC,QAAQ,EAAE;IAChB,IAAI,IAAI,CAACpB,MAAM,EAAE;MACb,IAAI,CAACA,MAAM,CAACqB,SAAS,GAAIC,KAAK,IAAK;QAC/B,MAAMN,IAAI,GAAGN,IAAI,CAACa,KAAK,CAACD,KAAK,CAACN,IAAI,CAAC;QACnCI,QAAQ,CAACJ,IAAI,CAAC;MAClB,CAAC;IACL,CAAC,MAAM;MACHV,OAAO,CAACS,KAAK,CAAC,+BAA+B,CAAC;IAClD;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}